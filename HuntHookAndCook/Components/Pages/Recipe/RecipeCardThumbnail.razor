@using HuntHookAndCook.Models
@using MudBlazor
@inject NavigationManager Navigation

<MudCard Class="recipe-card-thumbnail" @onclick="ShowDetails" Style="cursor: pointer;">
    <MudCardMedia Image="@imageSrc" Alt="@Recipe.Title" />
    <MudCardContent>
        <MudText Typo="Typo.h6">@Recipe.Title</MudText>
    </MudCardContent>
</MudCard>

@code {
    [Parameter] public RecipeDefinition Recipe { get; set; } = new RecipeDefinition();

    private string imageSrc => Recipe.Image != null ? $"data:image/png;base64,{Convert.ToBase64String(Recipe.Image)}" : "Images/image-not-found.jpg";

    private void ShowDetails()
    {
        Navigation.NavigateTo($"/recipes/{Recipe.Title}");
    }
}
